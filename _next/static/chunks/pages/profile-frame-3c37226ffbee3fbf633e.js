_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"4JlD":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?a(i(e),(function(i){var l=encodeURIComponent(r(i))+n;return o(e[i])?a(e[i],(function(e){return l+encodeURIComponent(r(e))})).join(t):l+encodeURIComponent(r(e[i]))})).join(t):l?encodeURIComponent(r(l))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},UGMT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile-frame",function(){return n("g5Iy")}])},g5Iy:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("8Kt/"),i=n.n(a),l=n("k4sx"),c=n("tLEb"),s=n("o0o1"),u=n.n(s);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}var m=n("s4NR"),f=n.n(m),v=n("wOnQ"),g=n.n(v);var b=o.a.createElement;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){var e,t,n=Object(r.useState)(!1),o=n[0],a=n[1],i=Object(r.useState)(),l=i[0],c=i[1],s=Object(r.useState)(""),p=s[0],m=s[1],v=Object(r.useState)(),h=v[0],y=v[1],O=Object(r.useRef)(null),N={client_id:"a6f77bda2415ed01330e",redirect_uri:"https://gdgjf.github.io/profile-frame",client_secret:"8caf44688c5f96871bc8c5eece2178028762ac10",scope:"read:org"},j=f.a.stringify(N);return Object(r.useEffect)((function(){var e,t=function(e){var t=e.newValue,n=e.key;"@GitHub_User"!==n&&null!==n||y(JSON.parse(t))};return window.addEventListener("storage",t),localStorage.getItem("@GitHub_User")?y(JSON.parse(localStorage.getItem("@GitHub_User"))):(e=u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=null===(t=f.a.parse(window.location.search.replace("?","")))||void 0===t?void 0:t.code)&&(a(!0),fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w(w({},N),{},{code:n}))}).then((function(e){return e.json()})).then((function(e){a(!1),localStorage.setItem("@GitHub_User",JSON.stringify(e)),window.open("","_self",""),window.close()})));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,l,"next",e)}function l(e){d(a,r,o,i,l,"throw",e)}i(void 0)}))})(),function(){return window.removeEventListener("storage",t)}}),[]),Object(r.useEffect)((function(){h&&(1===(null===h||void 0===h?void 0:h.roles.length)?m(h.roles[0]):(null===h||void 0===h?void 0:h.roles.length)>1&&c(h.roles))}),[h]),o?b("div",{className:"spinnerWrapper"},b("div",{className:"spinner"})):b("div",null,b("div",{id:"participate",className:"section-como-participar section-full-width"},b("div",{className:"profile-frame-container"},b("div",{className:"profile-frame-content"},b("div",{className:"profile-frame-intro"},b("div",{className:"profile-frame-intro-wrapper"},b("div",{className:"profile-frame-intro-title"},"GDGJF"),b("div",{className:"profile-frame-intro-subtitle"},"Crie sua imagem de perfil autenticando com o Github"),b("div",{className:"profile-frame-intro-button-group"},(null===h||void 0===h||null===(e=h.roles)||void 0===e?void 0:e.length)>1?b("select",{className:"custom-select",defaultValue:"",onChange:function(e){return m(e.target.value)}},b("option",{value:""},"Escolha..."),null===l||void 0===l?void 0:l.map((function(e,t){return b("option",{key:t,value:e},e)}))):b("button",{onClick:(t=!1,function(){t||window.open("https://github.com/login/oauth/authorize/?".concat(j),"newwindow","width=600,height=750")}),className:"profile-frame-intro-button"},"Gerar com Github")))),b("div",{className:"profile-frame-picture"},b("div",{className:"profile-frame-picture-frame",ref:O,style:{border:Boolean(null===h||void 0===h?void 0:h.avatar_url)?"1px solid #e1e1e1":"5px dashed gray"}},(null===h||void 0===h?void 0:h.avatar_url)?b("img",{className:"avatar-image",src:h.avatar_url}):"Sua imagem aqui",b("div",{className:"profile-frame-picture-footer"},b("div",{className:"profile-frame-picture-footer-identification"},b("div",{className:"profile-frame-picture-footer-logo-wrapper"},b("img",{src:"/images/gdg-logo-icon.png",className:"gdg-logo"}),b("h3",null,"GDG Juiz de fora"))),b("h4",{className:"profile-frame-picture-footer-identification-role"},p||"Seu papel"))),(null===h||void 0===h?void 0:h.avatar_url)&&p&&b("button",{onClick:function(){return e=null===O||void 0===O?void 0:O.current,t="gdg",document.documentElement.classList.add("hide-scrollbar"),g()(e,{logging:!0,allowTaint:!0,useCORS:!0,scale:window.innerWidth<660?2:1,scrollY:-window.scrollY,scrollX:-window.scrollX}).then((function(e){var n=document.createElement("a");n.href=e.toDataURL("image/png"),n.download="moldura-".concat(t,".png"),n.click()})),void document.documentElement.classList.remove("hide-scrollbar");var e,t},className:"profile-frame-intro-button"},b("p",null,"Download")))))))},O=o.a.createElement;t.default=function(){return O(o.a.Fragment,null,O(i.a,null,O("meta",{name:"description",content:"Google Developer Group de Juiz de Fora"}),O("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0"}),O("title",null,"Profile Frame - GDG Juiz de Fora"),O("meta",{name:"mobile-web-app-capable",content:"yes"}),O("link",{rel:"icon",sizes:"192x192",href:"images/android-icon.png"}),O("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),O("meta",{name:"apple-mobile-web-app-status-bar-style",content:"white"}),O("meta",{name:"apple-mobile-web-app-title",content:"GDG Juiz de Fora"}),O("link",{rel:"apple-touch-icon-precomposed",href:"images/ios-icon.png"}),O("meta",{name:"msapplication-TileImage",content:"images/ms-icon.png"}),O("meta",{name:"msapplication-TileColor",content:"#0097A7"}),O("link",{rel:"shortcut icon",href:"images/favicon.png"}),O("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium"})),O(l.a,null),O("div",{className:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},O("div",{className:"theme-content mdl-layout__content"},O(y,null),O("div",{id:"members_thumb",style:{textAlign:"center"}}),O(c.a,null))))}},kd2E:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var i={};if("string"!==typeof e||0===e.length)return i;var l=/\+/g;e=e.split(t);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var s=e.length;c>0&&s>c&&(s=c);for(var u=0;u<s;++u){var p,d,m,f,v=e[u].replace(l,"%20"),g=v.indexOf(n);g>=0?(p=v.substr(0,g),d=v.substr(g+1)):(p=v,d=""),m=decodeURIComponent(p),f=decodeURIComponent(d),r(i,m)?o(i[m])?i[m].push(f):i[m]=[i[m],f]:i[m]=f}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")}},[["UGMT",0,1,5,2,3]]]);